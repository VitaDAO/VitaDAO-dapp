<template>
  <ul role="list" class="gap-6 grid grid-cols-1 lg:grid-cols-3 md:grid-cols-2">
    <li
      v-for="proposal in proposals"
      :key="proposal.id"
      class="
        bg-white
        col-span-1
        flex flex-col
        rounded-2xl
        border border-gray-300
        text-center
        px-10
        py-8
        space-y-4
      "
    >
      <div class="flex flex-shrink-0 h-14 w-14 items-center justify-center mx-auto">
        <svg
          v-if="proposal.proposalContent.type == 'funding'"
          xmlns="http://www.w3.org/2000/svg"
          width="64"
          height="64"
          viewBox="0 0 64 64"
        >
          <title>refund</title>
          <g fill="#41f4d4">
            <path
              d="M26.384,41.724a21.015,21.015,0,0,1-4.121-1.3V43.78a14.649,14.649,0,0,0,3.7,1.044,28.3,28.3,0,0,0,4.669.376V50h2.776V45.008a11.3,11.3,0,0,0,6.133-2.4,6.587,6.587,0,0,0,1.4-8.045,7.126,7.126,0,0,0-2.474-2.346,24.517,24.517,0,0,0-5.057-2.1V20.778a21.88,21.88,0,0,1,6.52,1.507l1.119-2.819a21.872,21.872,0,0,0-7.639-1.593V14H30.634v3.911a10.634,10.634,0,0,0-5.778,2.2,5.738,5.738,0,0,0-2.184,4.627,6.61,6.61,0,0,0,1.776,4.777q1.774,1.849,6.186,3.249V42.23A20.126,20.126,0,0,1,26.384,41.724Zm7.024-8.073a10.259,10.259,0,0,1,3.712,1.9,3.388,3.388,0,0,1,.956,2.5q0,3.311-4.668,3.963ZM30.632,29.2a9.282,9.282,0,0,1-3.357-1.872,3.586,3.586,0,0,1-.968-2.625,3.226,3.226,0,0,1,1.1-2.491,6.17,6.17,0,0,1,3.228-1.345Z"
            />
            <path
              d="M32,2A29.923,29.923,0,0,0,13.07,8.738L8.251,4.267a1,1,0,0,0-1.666.564l-2.57,15A1,1,0,0,0,5,21a.974.974,0,0,0,.226-.026l15-3.467a1,1,0,0,0,.455-1.707l-4.65-4.314A26,26,0,1,1,6,32a2,2,0,0,0-4,0A30,30,0,1,0,32,2Z"
              fill="#6256ec"
            />
          </g>
        </svg>

        <svg
          v-else-if="proposal.proposalContent.type == 'governance'"
          xmlns="http://www.w3.org/2000/svg"
          width="64"
          height="64"
          viewBox="0 0 64 64"
        >
          <title>white-house</title>
          <g fill="#41f4d4">
            <path
              fill="#6256ec"
              d="M55,30c0-0.3-0.2-0.6-0.4-0.8L33,13.5V9h7c0.6,0,1-0.4,1-1V4c0-0.6-0.4-1-1-1h-7V2c0-0.6-0.4-1-1-1 c-0.6,0-1,0.4-1,1v11.5L9.4,29.2C9.2,29.4,9,29.7,9,30v7h46V30z"
            />
            <polygon fill="#6256ec" points="17,39 9,39 9,47 9,63 10,63 12,63 17,63 " />
            <path d="M7,47H2c-0.6,0-1,0.4-1,1v14c0,0.6,0.4,1,1,1h5V47z" />
            <polygon fill="#6256ec" points="55,47 55,39 47,39 47,63 52,63 54,63 55,63 " />
            <path
              fill="#6256ec"
              d="M45,63V39H19v24h8V52c0-0.6,0.4-1,1-1h8c0.6,0,1,0.4,1,1v11H45z M36,46h-8c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1 h8c0.6,0,1,0.4,1,1C37,45.6,36.6,46,36,46z"
            />
            <path d="M62,47h-5v16h5c0.6,0,1-0.4,1-1V48C63,47.4,62.6,47,62,47z" />
          </g>
        </svg>

        <svg
          v-else-if="proposal.proposalContent.type == 'ip'"
          xmlns="http://www.w3.org/2000/svg"
          width="64"
          height="64"
          viewBox="0 0 64 64"
        >
          <title>award-49</title>
          <g fill="#41f4d4">
            <path
              fill="#6256ec"
              d="M5,5h43v17h4V2c0-0.552-0.448-1-1-1H2C1.448,1,1,1.448,1,2v52c0,0.552,0.448,1,1,1h38v-4H5V5z"
            />
            <path
              fill="#6256ec"
              d="M41,16c0-0.552-0.447-1-1-1H12c-0.553,0-1,0.448-1,1s0.447,1,1,1h28C40.553,17,41,16.552,41,16z"
            />
            <path
              fill="#6256ec"
              d="M28,27H12c-0.553,0-1,0.448-1,1s0.447,1,1,1h16c0.553,0,1-0.448,1-1S28.553,27,28,27z"
            />
            <path
              fill="#6256ec"
              d="M28,39H12c-0.553,0-1,0.448-1,1s0.447,1,1,1h16c0.553,0,1-0.448,1-1S28.553,39,28,39z"
            />
            <path
              d="M42,49.667V62c0,0.356,0.189,0.686,0.498,0.865c0.309,0.179,0.689,0.181,0.998,0.003 L50,59.152l6.504,3.716C56.657,62.956,56.829,63,57,63c0.174,0,0.347-0.045,0.502-0.135C57.811,62.686,58,62.356,58,62V49.667 C55.681,51.136,52.943,52,50,52S44.319,51.136,42,49.667z"
            />
            <path
              d="M50,24c-7.168,0-13,5.832-13,13s5.832,13,13,13s13-5.832,13-13S57.168,24,50,24z"
            />
          </g>
        </svg>

        <svg v-else xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">
          <title>biology</title>
          <g fill="#41f4d4">
            <path
              d="M20,30A10.011,10.011,0,0,1,30,20a23.1,23.1,0,0,1,8.611,1.689c-.326-.783-.647-1.6-.949-2.449A24.237,24.237,0,0,0,30,18,12.013,12.013,0,0,0,18,30c0,5.2,1.566,8.859,3.081,12.394C22.582,45.9,24,49.205,24,54a9.9,9.9,0,0,1-3.151,7.272,1,1,0,1,0,1.371,1.456A11.888,11.888,0,0,0,26,54c0-5.2-1.566-8.859-3.081-12.394C21.418,38.1,20,34.8,20,30Z"
            />
            <path
              d="M44.414,1.586A2,2,0,0,0,43,1a2.4,2.4,0,0,0-1.491.536A11.838,11.838,0,0,0,38,10c0,5.205,1.566,8.859,3.081,12.394A31.632,31.632,0,0,1,43.8,31.073L35.48,22.752A20.09,20.09,0,0,0,30,22a7.929,7.929,0,0,0-.877.051L43.651,36.578a9.949,9.949,0,0,1-1.314,2.931L25.944,23.116a8.047,8.047,0,0,0-2.828,2.828L39.509,42.337a9.949,9.949,0,0,1-2.931,1.314L22.051,29.123A7.929,7.929,0,0,0,22,30a19.921,19.921,0,0,0,.752,5.48l8.325,8.325a24.686,24.686,0,0,1-5.688-1.494c.326.783.647,1.6.949,2.449A24.23,24.23,0,0,0,33.993,46,12.073,12.073,0,0,0,46,33.86a24.473,24.473,0,0,0-1.386-7.977l-.161-.454c-.262-.736-.559-1.5-.911-2.35l-.147-.354q-.237-.562-.476-1.119A31.632,31.632,0,0,1,40.2,12.927l8.322,8.321A20.09,20.09,0,0,0,54,22a7.99,7.99,0,0,0,.878-.05L40.356,7.428A9.887,9.887,0,0,1,41.667,4.5L58.056,20.884a8.107,8.107,0,0,0,1.761-1.407,3.009,3.009,0,0,1,1.6-.883Z"
              fill="#6256ec"
            />
            <path
              d="M62.686,20.807a1,1,0,0,0-1.414.042A9.9,9.9,0,0,1,54,24a23.1,23.1,0,0,1-8.611-1.689c.326.783.647,1.6.949,2.449A24.237,24.237,0,0,0,54,26a11.888,11.888,0,0,0,8.728-3.78A1,1,0,0,0,62.686,20.807Z"
            />
            <path
              d="M21.95,54.878A7.99,7.99,0,0,0,22,54a19.921,19.921,0,0,0-.752-5.48L12.923,40.2a24.686,24.686,0,0,1,5.688,1.494c-.326-.783-.647-1.6-.949-2.449A24.237,24.237,0,0,0,10,38a11.477,11.477,0,0,0-8.475,3.6A2.246,2.246,0,0,0,1,43a2,2,0,0,0,.586,1.414l4.462,4.462L18.6,61.426a2.965,2.965,0,0,1,.88-1.61,8.127,8.127,0,0,0,1.406-1.76L4.5,41.667A9.815,9.815,0,0,1,7.42,40.348Z"
              fill="#6256ec"
            />
          </g>
        </svg>
      </div>

      <div>
        <span class="uppercase bg-gray-200 inline px-4 py-1 rounded-full font-medium">{{
          proposal.proposalContent.type
        }}</span>
      </div>

      <h2 class="text-2xl font-semibold leading-tight">{{ proposal.proposalContent.title }}</h2>

      <div>
        <proposal-status :proposal="proposal" :block-number="blockNumber" />
      </div>

      <div class="flex-grow" />

      <votes-info :proposal="proposal" />

      <div>
        <router-link v-slot="{ navigate, href }" :to="'/proposal/' + proposal.id">
          <base-button type="secondary" :href="href" @click="navigate">Review & Vote</base-button>
        </router-link>
      </div>
    </li>
  </ul>
</template>

<script>
import { defineComponent } from 'vue'
import VotesInfo from '@/components/VotesInfo'
import ProposalStatus from '@/components/ProposalStatus'
import BaseButton from '@/components/BaseButton.vue'

export default defineComponent({
  components: { VotesInfo, ProposalStatus, BaseButton },
  props: {
    proposals: {
      type: Array,
      required: true,
    },
    blockNumber: {
      type: Number,
      required: true,
    },
  },
  setup() {
    return {}
  },
})
</script>
